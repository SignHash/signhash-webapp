version: '2'
services:
  testcafe:
    build:
      context: ../
      dockerfile: docker/Dockerfile
    links:
      - app
    volumes:
      - ../:/work
      - node_modules:/work/node_modules
    command: testcafe chrome /tests/basic.ts
  app:
    image: python:3
    expose:
      - "8080"
    command: python3 -m http.server 8080

volumes:
  node_modules:
